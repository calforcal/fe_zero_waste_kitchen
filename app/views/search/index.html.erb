<!-- Your search form -->
<div class="mask align-items-center pt-5">
  <div class="container pt-5">
    <div class="card mb-2">
      <div class="card-body p-2">
        <!-- Remove the search button from here -->
        <div class="input-group input-group-lg">
          <input type="text" class="form-control form-control-lg rounded" placeholder="Recipe Names"
            aria-label="Type Keywords" aria-describedby="basic-addon2" id="recipeNameInput" />
          <span class="input-group-text border-0" id="basic-addon2"><i class="fas fa-search"></i></span>
          <button type="button" class="btn btn-success" id="searchButton">Search</button>
        </div>
      </div>
    </div>
  </div>
</div>

<%# <div> %>
  <%# <% if @recipes.any? %>
    <%# <h2>Search Results:</h2> %>
    <%# <ul> %>
      <%# <% @recipes.each do |recipe| %>
        <%# <li><%= recipe.name</li> %>
      <%# <% end %>
    <%# </ul> %>
  <%# <% else %>
    <%# <p>No results found.</p> %>
  <%# <% end %>
<%# </div> %>

<!-- Your HTML code -->
<script src="KitchenFacade"></script>
<script>
  function submitSearchForm(event) {
    event.preventDefault();

    // Get the value entered in the recipe name input
    const recipeNameInput = document.getElementById("recipeNameInput");
    const recipeName = recipeNameInput.value;

    // Redirect to the SearchController#index action with the search query
    window.location.href = `<%= search_index_path %>?search=${encodeURIComponent(recipeName)}`;
  }

  document.addEventListener("DOMContentLoaded", function () {
    // Get the search button
    const searchButton = document.getElementById("searchButton");

    // Add a click event listener to the search button
    searchButton.addEventListener("click", submitSearchForm);

    // Handle form submission using the enter key
    const form = document.querySelector("form");
    form.addEventListener("submit", submitSearchForm);
  });
</script>
