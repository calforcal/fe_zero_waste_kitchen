<div class="title">
  <h1 class="title-text text-center pt-5"> <%= @user.name %>'s Zero Waste Kitchen </h1>
    <hr>
</div>

<div class="user_stats">
  <h2 class="title-text text-center">Recipes Created: <%= @facade.user_stats.first %></h2>
  <h2 class="title-text text-center">Recipes Cooked: <%= @facade.user_stats.second %></h2>
  <h2 class="title-text text-center">Carbon (CO2) Emissions Saved: <%= @facade.user_stats.third %> kilograms</h2>
</div>

<div class="container btn-group-toggle text-center">
  <%= link_to "Search Recipes", search_index_path, class: "btn btn-success btn-sm mt-2" %><br>
  <%# <%= link_to "Make your own Recipe", new_user_recipe_path(@user.id), class: "btn btn-success btn-sm mt-2" %>
</div><br>

<div class="container-fluid cookbook-title ">
  <h2 class="title-text text-center"><%= @user.name %>'s Cookbook</h2>
</div>

<div class="container-fluid recipes_saved text-center">
  <div class="btn-group">
     <button class="btn btn-success dropdown-toggle"
                    type="button"
                    data-bs-toggle="dropdown"
                    data-bs-auto-close="false"
                    aria-expanded="false">
      Saved Recipes
    </button>

    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
      <% @facade.saved_recipes.each do |recipe| %>
        <a class="text-success dropdown-item" href="<%= recipe_path(recipe.id) %>"><%= recipe.name %></a>
      <% end %>
    </div>
  </div>
</div>

<div class="container-fluid recipes_cooked text-center pt-3">
  <div class="btn-group">
    <button class="btn btn-success dropdown-toggle"
                    type="button"
                    data-bs-toggle="dropdown"
                    data-bs-auto-close="false"
                    aria-expanded="false">
      Cooked Recipes
    </button>

    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
      <% @facade.cooked_recipes.each do |recipe| %>
        <a class="text-success dropdown-item" href="<%= recipe_path(recipe.id) %>"><%= recipe.name %></a>
      <% end %>
  </div>
</div>

<div class="container btn-group-toggle text-center">
  <%= button_to "Log Out", destroy_user_session_path, method: :delete, class: "btn btn-success btn-sm mt-5 pd-5" %>
</div>


<script >
  const dropdown_button = document.querySelector('.dropdown');
  const dropdown_menu = document.querySelector('.dropdown-menu');

  console.log(dropdown_button)
  dropdown_button.addEventListener("click", openDropdown)
  function openDropdown() {
  dropdown_menu.style.display = "block"
  ;}

  const dropdown_button_created = document.querySelector('.dropdown.created');
  const dropdown_menu_created = document.querySelector('.dropdown-menu.created');

  console.log(dropdown_button_created)
  dropdown_button_created.addEventListener("click", openDropdownCreated)
  function openDropdownCreated() {
  dropdown_menu_created.style.display = "block"
  ;}

  const dropdown_button_cooked = document.querySelector('.dropdown.cooked');
  const dropdown_menu_cooked = document.querySelector('.dropdown-menu.cooked');

  console.log(dropdown_button_cooked)
  dropdown_button_cooked.addEventListener("click", openDropdownCooked)
  function openDropdownCooked() {
  dropdown_menu_cooked.style.display = "block"
  ;}

</script>



